"use strict";(self["webpackChunkwavetune"]=self["webpackChunkwavetune"]||[]).push([[806],{81:function(e,a,t){var r=t(9565),l=t(9306),o=t(8551),n=t(6823),s=t(851),d=TypeError;e.exports=function(e,a){var t=arguments.length<2?s(e):a;if(l(t))return o(r(t,e));throw new d(n(e)+" is not iterable")}},116:function(e,a,t){var r=t(6518),l=t(9565),o=t(2652),n=t(9306),s=t(8551),d=t(1767),i=t(9539),c=t(4549),u=c("find",TypeError);r({target:"Iterator",proto:!0,real:!0,forced:u},{find:function(e){s(this);try{n(e)}catch(r){i(this,"throw",r)}if(u)return l(u,this,e);var a=d(this),t=0;return o(a,function(a,r){if(e(a,t++))return r(a)},{IS_RECORD:!0,INTERRUPTED:!0}).result}})},851:function(e,a,t){var r=t(6955),l=t(5966),o=t(4117),n=t(6269),s=t(8227),d=s("iterator");e.exports=function(e){if(!o(e))return l(e,d)||l(e,"@@iterator")||n[r(e)]}},1701:function(e,a,t){var r=t(6518),l=t(9565),o=t(9306),n=t(8551),s=t(1767),d=t(9462),i=t(6319),c=t(9539),u=t(684),p=t(4549),f=t(6395),m=!f&&!u("map",function(){}),b=!f&&!m&&p("map",TypeError),k=f||m||b,g=d(function(){var e=this.iterator,a=n(l(this.next,e)),t=this.done=!!a.done;if(!t)return i(e,this.mapper,[a.value,this.counter++],!0)});r({target:"Iterator",proto:!0,real:!0,forced:k},{map:function(e){n(this);try{o(e)}catch(a){c(this,"throw",a)}return b?l(b,this,e):new g(s(this),{mapper:e})}})},2140:function(e,a,t){var r=t(8227),l=r("toStringTag"),o={};o[l]="z",e.exports="[object z]"===String(o)},2652:function(e,a,t){var r=t(6080),l=t(9565),o=t(8551),n=t(6823),s=t(4209),d=t(6198),i=t(1625),c=t(81),u=t(851),p=t(9539),f=TypeError,m=function(e,a){this.stopped=e,this.result=a},b=m.prototype;e.exports=function(e,a,t){var k,g,v,_,h,w,y,F=t&&t.that,L=!(!t||!t.AS_ENTRIES),C=!(!t||!t.IS_RECORD),x=!(!t||!t.IS_ITERATOR),S=!(!t||!t.INTERRUPTED),V=r(a,F),R=function(e){return k&&p(k,"normal"),new m(!0,e)},E=function(e){return L?(o(e),S?V(e[0],e[1],R):V(e[0],e[1])):S?V(e,R):V(e)};if(C)k=e.iterator;else if(x)k=e;else{if(g=u(e),!g)throw new f(n(e)+" is not iterable");if(s(g)){for(v=0,_=d(e);_>v;v++)if(h=E(e[v]),h&&i(b,h))return h;return new m(!1)}k=c(e,g)}w=C?e.next:k.next;while(!(y=l(w,k)).done){try{h=E(y.value)}catch(W){p(k,"throw",W)}if("object"==typeof h&&h&&i(b,h))return h}return new m(!1)}},4209:function(e,a,t){var r=t(8227),l=t(6269),o=r("iterator"),n=Array.prototype;e.exports=function(e){return void 0!==e&&(l.Array===e||n[o]===e)}},6080:function(e,a,t){var r=t(7476),l=t(9306),o=t(616),n=r(r.bind);e.exports=function(e,a){return l(e),void 0===a?e:o?n(e,a):function(){return e.apply(a,arguments)}}},6153:function(e,a,t){t.r(a),t.d(a,{default:function(){return W}});t(4114),t(8111),t(2489);var r=t(641),l=t(953),o=t(33),n=t(5220),s=t(8148),d=t(9537),i=t(5720),c=t(163),u=t(7918);const p={class:"user-feedback-view"},f={class:"top-section"},m={class:"avatar-section"},b={style:{"margin-top":"12px"}},k={class:"user-name"},g={class:"status-normal"},v={class:"status-primary"},_={class:"rating-section"},h={class:"action-buttons"},w={key:0,class:"history-section"},y={class:"history-item",style:{padding:"12px","border-radius":"8px",background:"#f9f9f9"}},F={class:"history-header",style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"10px"}},L={style:{display:"flex","align-items":"center",gap:"12px"}},C={style:{display:"flex","align-items":"center",gap:"16px"}},x={class:"history-content",style:{padding:"8px",background:"#fff","border-radius":"4px"}},S={key:1,class:"history-empty",style:{"margin-top":"24px",padding:"24px"}};var V={__name:"UserFeedbackView",setup(e){(0,n.rd)();const a=(0,l.KR)(null),t=(0,l.Kh)({type:"accuracy",content:"",rating:3}),V={type:[{required:!0,message:"请选择反馈类型",trigger:"change"}],content:[{required:!0,message:"请输入反馈内容",trigger:"blur"},{min:10,message:"反馈内容至少10个字符",trigger:"blur"}]},R=(0,l.Kh)({avatar:null,name:"",student_id:"",create_time:"",detection_count:0,intervention_count:0}),E=(0,l.KR)([]),W=()=>{try{const e=JSON.parse(window.localStorage.getItem("user")||"null");e&&(R.avatar=(0,d.V)(e.avatar||"/static/avatar/default.jpg"),R.name=e.username||e.name||"",R.student_id=e.student_id||"",R.create_time=e.create_time||"",R.detection_count=e.detection_count||0,R.intervention_count=e.intervention_count||0)}catch(e){console.error("加载用户信息失败:",e)}},I=e=>{if(!e)return"—";try{const a=new Date(e);return a.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(a){return e}},T=async()=>{try{let a=null;try{const e=JSON.parse(window.localStorage.getItem("user")||"null");e&&e.id&&(a=e.id)}catch(e){console.error("获取用户ID失败:",e)}if(!a)return void(E.value=[]);const t=await i.f.get("/feedback/history",{user_id:a,page:1,page_size:20});E.value=t.data?.list||[]}catch(e){console.error("获取历史反馈失败:",e)}},U=async()=>{try{await a.value.validate()}catch(l){return}let e=null;try{const a=JSON.parse(window.localStorage.getItem("user")||"null");a&&a.id&&(e=a.id)}catch(o){console.error("获取用户ID失败:",o)}if(!e)return void c.nk.error("请先登录后再提交反馈");const r={user_id:e,feedback_type:t.type,content:t.content.trim(),score:t.rating};try{await i.f.post("/feedback/submit",r),c.nk.success("反馈已提交，感谢您的建议"),await T(),t.content="",t.rating=3,t.type="accuracy";try{window.dispatchEvent(new Event("feedback-changed"))}catch(o){}}catch(o){console.error("提交反馈失败:",o)}},A=async e=>{try{const t=JSON.parse(window.localStorage.getItem("user")||"null");if(!t||!t.id)return void c.nk.error("请先登录");await u.s.confirm("确认删除这条反馈吗？此操作不可恢复","删除反馈",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"});const r=await i.f.delete(`/feedback/${e}`,{user_id:t.id});if(r&&200===r.code){c.nk.success("删除成功"),E.value=E.value.filter(a=>a.id!==e);try{window.dispatchEvent(new Event("feedback-changed"))}catch(a){}}else c.nk.error(r?.msg||"删除失败")}catch(a){if(a&&a.message&&a.message.includes("取消"))return;console.error("删除反馈失败:",a),c.nk.error("删除失败")}},B=()=>{t.content="",t.rating=3,t.type="accuracy",a.value&&a.value.clearValidate()};return(0,r.sV)(()=>{W(),window.addEventListener("auth-changed",W),T()}),(0,r.xo)(()=>{window.removeEventListener("auth-changed",W)}),(e,n)=>{const i=(0,r.g2)("el-page-header"),c=(0,r.g2)("el-avatar"),u=(0,r.g2)("el-button"),W=(0,r.g2)("el-descriptions-item"),T=(0,r.g2)("el-descriptions"),K=(0,r.g2)("el-col"),z=(0,r.g2)("el-radio"),P=(0,r.g2)("el-radio-group"),O=(0,r.g2)("el-form-item"),D=(0,r.g2)("el-input"),X=(0,r.g2)("el-rate"),$=(0,r.g2)("el-form"),j=(0,r.g2)("el-tag"),M=(0,r.g2)("el-timeline-item"),N=(0,r.g2)("el-timeline"),q=(0,r.g2)("el-empty"),Q=(0,r.g2)("el-row");return(0,r.uX)(),(0,r.CE)("div",p,[n[17]||(n[17]=(0,r.Lk)("div",{class:"wave-background"},[(0,r.Lk)("div",{class:"wave wave-1"}),(0,r.Lk)("div",{class:"wave wave-2"}),(0,r.Lk)("div",{class:"wave wave-3"})],-1)),(0,r.Lk)("div",f,[(0,r.bF)(i,{content:"用户信息与反馈",class:"page-header"},{extra:(0,r.k6)(()=>[...n[5]||(n[5]=[(0,r.Lk)("div",{class:"header-divider"},null,-1)])]),_:1})]),(0,r.bF)(Q,{gutter:20,class:"main-section"},{default:(0,r.k6)(()=>[(0,r.bF)(K,{xs:24,sm:24,md:8,lg:8,xl:8},{default:(0,r.k6)(()=>[(0,r.bF)(s.A,{title:"个人信息",class:"user-info-card"},{default:(0,r.k6)(()=>[(0,r.Lk)("div",m,[(0,r.bF)(c,{size:100,src:R.avatar||(0,l.R1)(d.V)("/static/avatar/default.jpg"),class:"user-avatar"},null,8,["src"]),(0,r.Lk)("div",b,(0,o.v_)(R.name||"未登录"),1),(0,r.bF)(u,{type:"text",class:"change-avatar-btn",onClick:n[0]||(n[0]=a=>e.$router.push("/user-center"))},{default:(0,r.k6)(()=>[...n[6]||(n[6]=[(0,r.eW)(" 更换头像 ",-1)])]),_:1})]),(0,r.bF)(T,{column:1,class:"user-descriptions"},{default:(0,r.k6)(()=>[(0,r.bF)(W,{label:"姓名"},{default:(0,r.k6)(()=>[(0,r.Lk)("span",k,(0,o.v_)(R.name||"—"),1)]),_:1}),(0,r.bF)(W,{label:"学号"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(R.student_id||"—"),1)]),_:1}),(0,r.bF)(W,{label:"注册"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(R.create_time?I(R.create_time):"—"),1)]),_:1}),(0,r.bF)(W,{label:"检测"},{default:(0,r.k6)(()=>[(0,r.Lk)("span",g,(0,o.v_)(R.detection_count||0)+" 次",1)]),_:1}),(0,r.bF)(W,{label:"干预"},{default:(0,r.k6)(()=>[(0,r.Lk)("span",v,(0,o.v_)(R.intervention_count||0)+" 次",1)]),_:1})]),_:1}),n[7]||(n[7]=(0,r.Lk)("div",{class:"info-notice"}," 以上信息仅用于系统数据关联，不会对外泄露 ",-1))]),_:1})]),_:1}),(0,r.bF)(K,{xs:24,sm:24,md:16,lg:16,xl:16},{default:(0,r.k6)(()=>[(0,r.bF)(s.A,{title:"系统使用反馈",class:"feedback-form-card"},{default:(0,r.k6)(()=>[(0,r.bF)($,{ref_key:"feedbackFormRef",ref:a,model:t,rules:V,"label-width":"100px",class:"feedback-form"},{default:(0,r.k6)(()=>[(0,r.bF)(O,{label:"反馈类型",prop:"type"},{default:(0,r.k6)(()=>[(0,r.bF)(P,{modelValue:t.type,"onUpdate:modelValue":n[1]||(n[1]=e=>t.type=e)},{default:(0,r.k6)(()=>[(0,r.bF)(z,{label:"accuracy"},{default:(0,r.k6)(()=>[...n[8]||(n[8]=[(0,r.eW)("脑疲劳检测准确性",-1)])]),_:1}),(0,r.bF)(z,{label:"music"},{default:(0,r.k6)(()=>[...n[9]||(n[9]=[(0,r.eW)("轻音乐推荐效果",-1)])]),_:1}),(0,r.bF)(z,{label:"function"},{default:(0,r.k6)(()=>[...n[10]||(n[10]=[(0,r.eW)("系统功能建议",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,r.bF)(O,{label:"反馈内容",prop:"content"},{default:(0,r.k6)(()=>[(0,r.bF)(D,{modelValue:t.content,"onUpdate:modelValue":n[2]||(n[2]=e=>t.content=e),type:"textarea",rows:5,placeholder:"请详细描述您的体验或建议（最多 500 字）",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1}),(0,r.bF)(O,{label:"满意度评分",prop:"rating"},{default:(0,r.k6)(()=>[(0,r.Lk)("div",_,[n[11]||(n[11]=(0,r.Lk)("p",{class:"rating-title"},"对系统的满意度",-1)),(0,r.bF)(X,{modelValue:t.rating,"onUpdate:modelValue":n[3]||(n[3]=e=>t.rating=e),max:5},null,8,["modelValue"])])]),_:1}),(0,r.bF)(O,{class:"form-actions"},{default:(0,r.k6)(()=>[(0,r.Lk)("div",h,[(0,r.bF)(u,{onClick:B},{default:(0,r.k6)(()=>[...n[12]||(n[12]=[(0,r.eW)("取消",-1)])]),_:1}),(0,r.bF)(u,{type:"primary",onClick:U},{default:(0,r.k6)(()=>[...n[13]||(n[13]=[(0,r.eW)("提交反馈",-1)])]),_:1})])]),_:1})]),_:1},8,["model"]),E.value.length?((0,r.uX)(),(0,r.CE)("div",w,[n[15]||(n[15]=(0,r.Lk)("h4",null,"历史反馈",-1)),(0,r.bF)(N,null,{default:(0,r.k6)(()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(E.value,e=>((0,r.uX)(),(0,r.Wv)(M,{key:e.id,timestamp:e.submit_time},{default:(0,r.k6)(()=>[(0,r.Lk)("div",y,[(0,r.Lk)("div",F,[(0,r.Lk)("div",L,[(0,r.Lk)("strong",null,(0,o.v_)(R.name||"匿名"),1),(0,r.bF)(j,{size:"small"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.feedback_type_name||"其他"),1)]),_:2},1024)]),(0,r.Lk)("div",C,[(0,r.bF)(X,{"model-value":e.score,max:5,disabled:""},null,8,["model-value"]),(0,r.bF)(u,{type:"danger",size:"mini",onClick:a=>A(e.id)},{default:(0,r.k6)(()=>[...n[14]||(n[14]=[(0,r.eW)("删除",-1)])]),_:1},8,["onClick"])])]),(0,r.Lk)("div",x,(0,o.v_)(e.content),1)])]),_:2},1032,["timestamp"]))),128))]),_:1})])):((0,r.uX)(),(0,r.CE)("div",S,[(0,r.bF)(q,{description:"还没有历史反馈"},{footer:(0,r.k6)(()=>[(0,r.bF)(u,{type:"primary",onClick:n[4]||(n[4]=a=>e.$refs.feedbackFormRef?.scrollIntoView?.()||e.window.scrollTo({top:0,behavior:"smooth"}))},{default:(0,r.k6)(()=>[...n[16]||(n[16]=[(0,r.eW)("去提交第一个反馈",-1)])]),_:1})]),_:1})]))]),_:1})]),_:1})]),_:1}),n[18]||(n[18]=(0,r.Lk)("div",{class:"bottom-section"},[(0,r.Lk)("div",{class:"feedback-notice"},[(0,r.Lk)("p",null,"反馈提交后，我们将在 3 个工作日内评估并回复；若需紧急支持，请通过以下方式联系我们："),(0,r.Lk)("p",null,[(0,r.eW)("邮箱："),(0,r.Lk)("a",{href:"mailto:help@wavetune.example"},"help@wavetune.com"),(0,r.eW)(" ｜ QQ 群：12345678")]),(0,r.Lk)("p",null,[(0,r.eW)("常见问题："),(0,r.Lk)("a",{href:"/help/faq",target:"_blank"},"查看 FAQ")])])],-1))])}}},R=t(6262);const E=(0,R.A)(V,[["__scopeId","data-v-c33743fe"]]);var W=E},6269:function(e){e.exports={}},6542:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var r=t(641),l=t(33);const o={class:"user-center"},n={class:"user-center-container"},s={class:"card-header"},d={style:{display:"flex",gap:"8px","align-items":"center"}},i={class:"user-info-content"},c={class:"avatar-section"},u={class:"card-header"},p={class:"card-header"},f={key:0,class:"feedback-form-container"},m={class:"feedback-content"};function b(e,a,t,b,k,g){const v=(0,r.g2)("el-button"),_=(0,r.g2)("User"),h=(0,r.g2)("el-icon"),w=(0,r.g2)("el-avatar"),y=(0,r.g2)("Upload"),F=(0,r.g2)("el-upload"),L=(0,r.g2)("el-input"),C=(0,r.g2)("el-form-item"),x=(0,r.g2)("el-col"),S=(0,r.g2)("el-row"),V=(0,r.g2)("el-form"),R=(0,r.g2)("el-card"),E=(0,r.g2)("el-option"),W=(0,r.g2)("el-select"),I=(0,r.g2)("el-switch"),T=(0,r.g2)("el-table-column"),U=(0,r.g2)("el-tag"),A=(0,r.g2)("el-table");return(0,r.uX)(),(0,r.CE)("div",o,[a[37]||(a[37]=(0,r.Lk)("div",{class:"wave-background"},[(0,r.Lk)("div",{class:"wave wave-1"}),(0,r.Lk)("div",{class:"wave wave-2"}),(0,r.Lk)("div",{class:"wave wave-3"})],-1)),(0,r.Lk)("div",n,[(0,r.bF)(R,{class:"user-info-card",shadow:"hover"},{header:(0,r.k6)(()=>[(0,r.Lk)("div",s,[a[21]||(a[21]=(0,r.Lk)("h2",null,"个人信息",-1)),(0,r.Lk)("div",d,[(0,r.bF)(v,{type:"primary",onClick:a[0]||(a[0]=e=>b.editMode=!b.editMode)},{default:(0,r.k6)(()=>[(0,r.eW)((0,l.v_)(b.editMode?"取消编辑":"编辑资料"),1)]),_:1}),(0,r.bF)(v,{type:"danger",plain:"",onClick:b.handleDeleteAccount},{default:(0,r.k6)(()=>[...a[20]||(a[20]=[(0,r.eW)(" 删除账户 ",-1)])]),_:1},8,["onClick"])])])]),default:(0,r.k6)(()=>[(0,r.Lk)("div",i,[(0,r.Lk)("div",c,[(0,r.bF)(w,{size:120,src:b.userInfo.avatar||b.resolveMedia("/static/avatar/default.jpg"),class:"user-avatar"},{default:(0,r.k6)(()=>[(0,r.bF)(h,null,{default:(0,r.k6)(()=>[(0,r.bF)(_)]),_:1})]),_:1},8,["src"]),b.editMode?((0,r.uX)(),(0,r.Wv)(F,{key:0,class:"avatar-uploader","show-file-list":!1,"before-upload":b.beforeAvatarUpload,"http-request":b.uploadAvatar},{default:(0,r.k6)(()=>[(0,r.bF)(v,{type:"primary",size:"small",class:"upload-btn"},{default:(0,r.k6)(()=>[(0,r.bF)(h,null,{default:(0,r.k6)(()=>[(0,r.bF)(y)]),_:1}),a[22]||(a[22]=(0,r.eW)(" 更换头像 ",-1))]),_:1})]),_:1},8,["before-upload","http-request"])):(0,r.Q3)("",!0)]),(0,r.bF)(V,{ref:"userFormRef",model:b.userForm,rules:b.userRules,"label-width":"100px",class:"user-form"},{default:(0,r.k6)(()=>[(0,r.bF)(S,{gutter:20},{default:(0,r.k6)(()=>[(0,r.bF)(x,{span:12},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"用户名",prop:"username"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{modelValue:b.userForm.username,"onUpdate:modelValue":a[1]||(a[1]=e=>b.userForm.username=e),disabled:!b.editMode,placeholder:"请输入用户名"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,r.bF)(x,{span:12},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"学号",prop:"student_id"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{modelValue:b.userForm.student_id,"onUpdate:modelValue":a[2]||(a[2]=e=>b.userForm.student_id=e),disabled:!b.editMode,placeholder:"请输入学号"},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),(0,r.bF)(S,{gutter:20},{default:(0,r.k6)(()=>[(0,r.bF)(x,{span:12},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"邮箱",prop:"email"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{modelValue:b.userForm.email,"onUpdate:modelValue":a[3]||(a[3]=e=>b.userForm.email=e),disabled:!b.editMode,placeholder:"请输入邮箱"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),(0,r.bF)(x,{span:12},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"手机号",prop:"phone"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{modelValue:b.userForm.phone,"onUpdate:modelValue":a[4]||(a[4]=e=>b.userForm.phone=e),disabled:!b.editMode,placeholder:"请输入手机号"},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),(0,r.bF)(S,{gutter:20},{default:(0,r.k6)(()=>[(0,r.bF)(x,{span:12},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"检测次数"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{value:b.userInfo.detection_count,disabled:""},null,8,["value"])]),_:1})]),_:1}),(0,r.bF)(x,{span:12},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"干预次数"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{value:b.userInfo.intervention_count,disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1}),(0,r.bF)(S,{gutter:20},{default:(0,r.k6)(()=>[(0,r.bF)(x,{span:12},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"注册时间"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{value:b.formatDate(b.userInfo.create_time),disabled:""},null,8,["value"])]),_:1})]),_:1}),(0,r.bF)(x,{span:12},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"最后登录"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{value:b.formatDate(b.userInfo.last_login_time),disabled:""},null,8,["value"])]),_:1})]),_:1})]),_:1}),b.editMode?((0,r.uX)(),(0,r.Wv)(C,{key:0},{default:(0,r.k6)(()=>[(0,r.bF)(v,{type:"primary",loading:b.updateLoading,onClick:b.handleUpdateProfile},{default:(0,r.k6)(()=>[...a[23]||(a[23]=[(0,r.eW)(" 保存修改 ",-1)])]),_:1},8,["loading","onClick"]),(0,r.bF)(v,{onClick:b.resetForm},{default:(0,r.k6)(()=>[...a[24]||(a[24]=[(0,r.eW)("重置",-1)])]),_:1},8,["onClick"])]),_:1})):(0,r.Q3)("",!0)]),_:1},8,["model","rules"])])]),_:1}),(0,r.bF)(R,{class:"preferences-card",shadow:"hover"},{header:(0,r.k6)(()=>[...a[25]||(a[25]=[(0,r.Lk)("h2",null,"偏好设置",-1)])]),default:(0,r.k6)(()=>[(0,r.bF)(V,{ref:"preferencesFormRef",model:b.preferencesForm,"label-width":"120px",class:"preferences-form"},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"默认疲劳等级"},{default:(0,r.k6)(()=>[(0,r.bF)(W,{modelValue:b.preferencesForm.default_fatigue_level,"onUpdate:modelValue":a[5]||(a[5]=e=>b.preferencesForm.default_fatigue_level=e),onChange:a[6]||(a[6]=e=>b.updatePreference("default_fatigue_level",e))},{default:(0,r.k6)(()=>[(0,r.bF)(E,{label:"轻度疲劳",value:"light"}),(0,r.bF)(E,{label:"中度疲劳",value:"medium"}),(0,r.bF)(E,{label:"重度疲劳",value:"heavy"})]),_:1},8,["modelValue"])]),_:1}),(0,r.bF)(C,{label:"偏好音乐类型"},{default:(0,r.k6)(()=>[(0,r.bF)(W,{modelValue:b.preferencesForm.preferred_music_type,"onUpdate:modelValue":a[7]||(a[7]=e=>b.preferencesForm.preferred_music_type=e),onChange:a[8]||(a[8]=e=>b.updatePreference("preferred_music_type",e))},{default:(0,r.k6)(()=>[(0,r.bF)(E,{label:"自然音效",value:"natural"}),(0,r.bF)(E,{label:"钢琴音乐",value:"piano"}),(0,r.bF)(E,{label:"白噪音",value:"whitenoise"}),(0,r.bF)(E,{label:"混合音乐",value:"mix"})]),_:1},8,["modelValue"])]),_:1}),(0,r.bF)(C,{label:"通知设置"},{default:(0,r.k6)(()=>[(0,r.bF)(I,{modelValue:b.preferencesForm.notification_enabled,"onUpdate:modelValue":a[9]||(a[9]=e=>b.preferencesForm.notification_enabled=e),"active-text":"开启","inactive-text":"关闭",onChange:a[10]||(a[10]=e=>b.updatePreference("notification_enabled",e?"true":"false"))},null,8,["modelValue"])]),_:1}),(0,r.bF)(C,{label:"自动播放"},{default:(0,r.k6)(()=>[(0,r.bF)(I,{modelValue:b.preferencesForm.auto_play,"onUpdate:modelValue":a[11]||(a[11]=e=>b.preferencesForm.auto_play=e),"active-text":"开启","inactive-text":"关闭",onChange:a[12]||(a[12]=e=>b.updatePreference("auto_play",e?"true":"false"))},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1}),(0,r.bF)(R,{class:"sessions-card",shadow:"hover"},{header:(0,r.k6)(()=>[(0,r.Lk)("div",u,[a[27]||(a[27]=(0,r.Lk)("h2",null,"会话管理",-1)),(0,r.bF)(v,{type:"danger",onClick:b.handleLogoutAll},{default:(0,r.k6)(()=>[...a[26]||(a[26]=[(0,r.eW)(" 退出所有设备 ",-1)])]),_:1},8,["onClick"])])]),default:(0,r.k6)(()=>[(0,r.bF)(A,{data:b.sessions,style:{width:"100%"}},{default:(0,r.k6)(()=>[(0,r.bF)(T,{prop:"device_display",label:"设备信息"}),(0,r.bF)(T,{prop:"ip_address",label:"IP地址"}),(0,r.bF)(T,{prop:"create_time",label:"登录时间"},{default:(0,r.k6)(({row:e})=>[(0,r.eW)((0,l.v_)(b.formatDate(e.create_time)),1)]),_:1}),(0,r.bF)(T,{prop:"last_activity",label:"最后活动"},{default:(0,r.k6)(({row:e})=>[(0,r.eW)((0,l.v_)(b.formatDate(e.last_activity)),1)]),_:1}),(0,r.bF)(T,{label:"操作"},{default:(0,r.k6)(({row:e})=>[e.id!==b.currentSessionId?((0,r.uX)(),(0,r.Wv)(v,{key:0,type:"danger",size:"small",onClick:a=>b.handleRevokeSession(e.id)},{default:(0,r.k6)(()=>[...a[28]||(a[28]=[(0,r.eW)(" 撤销 ",-1)])]),_:1},8,["onClick"])):((0,r.uX)(),(0,r.Wv)(U,{key:1,type:"success",size:"small"},{default:(0,r.k6)(()=>[...a[29]||(a[29]=[(0,r.eW)("当前会话",-1)])]),_:1}))]),_:1})]),_:1},8,["data"])]),_:1}),(0,r.bF)(R,{class:"feedback-card",shadow:"hover"},{header:(0,r.k6)(()=>[(0,r.Lk)("div",p,[a[31]||(a[31]=(0,r.Lk)("h2",null,"历史反馈",-1)),(0,r.bF)(v,{type:"primary",size:"small",onClick:a[13]||(a[13]=e=>b.showFeedbackForm=!b.showFeedbackForm)},{default:(0,r.k6)(()=>[...a[30]||(a[30]=[(0,r.eW)(" 提交新反馈 ",-1)])]),_:1})])]),default:(0,r.k6)(()=>[b.showFeedbackForm?((0,r.uX)(),(0,r.CE)("div",f,[(0,r.bF)(V,{ref:"feedbackFormRef",model:b.feedbackForm,"label-width":"100px",class:"feedback-form"},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"反馈类型"},{default:(0,r.k6)(()=>[(0,r.bF)(W,{modelValue:b.feedbackForm.type,"onUpdate:modelValue":a[14]||(a[14]=e=>b.feedbackForm.type=e)},{default:(0,r.k6)(()=>[(0,r.bF)(E,{label:"功能建议",value:"suggestion"}),(0,r.bF)(E,{label:"问题反馈",value:"bug"}),(0,r.bF)(E,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),(0,r.bF)(C,{label:"反馈内容"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{modelValue:b.feedbackForm.content,"onUpdate:modelValue":a[15]||(a[15]=e=>b.feedbackForm.content=e),type:"textarea",rows:"4",placeholder:"请输入您的反馈内容"},null,8,["modelValue"])]),_:1}),(0,r.bF)(C,null,{default:(0,r.k6)(()=>[(0,r.bF)(v,{type:"primary",onClick:b.handleSubmitFeedback},{default:(0,r.k6)(()=>[...a[32]||(a[32]=[(0,r.eW)("提交",-1)])]),_:1},8,["onClick"]),(0,r.bF)(v,{onClick:a[16]||(a[16]=e=>b.showFeedbackForm=!1)},{default:(0,r.k6)(()=>[...a[33]||(a[33]=[(0,r.eW)("取消",-1)])]),_:1})]),_:1})]),_:1},8,["model"])])):(0,r.Q3)("",!0),(0,r.bF)(A,{data:b.feedbackList,style:{width:"100%"},class:"feedback-table"},{default:(0,r.k6)(()=>[(0,r.bF)(T,{prop:"feedback_type",label:"反馈类型"},{default:(0,r.k6)(({row:e})=>[(0,r.bF)(U,{type:b.getFeedbackTypeTag(e.feedback_type)},{default:(0,r.k6)(()=>[(0,r.eW)((0,l.v_)(b.getFeedbackTypeText(e.feedback_type)),1)]),_:2},1032,["type"])]),_:1}),(0,r.bF)(T,{prop:"content",label:"反馈内容"},{default:(0,r.k6)(({row:e})=>[(0,r.Lk)("div",m,(0,l.v_)(e.content),1)]),_:1}),(0,r.bF)(T,{prop:"submit_time",label:"提交时间"},{default:(0,r.k6)(({row:e})=>[(0,r.eW)((0,l.v_)(b.formatDate(e.submit_time)),1)]),_:1}),(0,r.bF)(T,{prop:"status",label:"处理状态"},{default:(0,r.k6)(({row:e})=>[(0,r.bF)(U,{type:"processed"===e.status?"success":"info"},{default:(0,r.k6)(()=>[(0,r.eW)((0,l.v_)("processed"===e.status?"已处理":"待处理"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])]),_:1}),(0,r.bF)(R,{class:"password-card",shadow:"hover"},{header:(0,r.k6)(()=>[...a[34]||(a[34]=[(0,r.Lk)("h2",null,"修改密码",-1)])]),default:(0,r.k6)(()=>[(0,r.bF)(V,{ref:"passwordFormRef",model:b.passwordForm,rules:b.passwordRules,"label-width":"100px",class:"password-form"},{default:(0,r.k6)(()=>[(0,r.bF)(C,{label:"原密码",prop:"old_password"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{modelValue:b.passwordForm.old_password,"onUpdate:modelValue":a[17]||(a[17]=e=>b.passwordForm.old_password=e),type:"password",placeholder:"请输入原密码","show-password":""},null,8,["modelValue"])]),_:1}),(0,r.bF)(C,{label:"新密码",prop:"new_password"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{modelValue:b.passwordForm.new_password,"onUpdate:modelValue":a[18]||(a[18]=e=>b.passwordForm.new_password=e),type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),(0,r.bF)(C,{label:"确认密码",prop:"confirm_password"},{default:(0,r.k6)(()=>[(0,r.bF)(L,{modelValue:b.passwordForm.confirm_password,"onUpdate:modelValue":a[19]||(a[19]=e=>b.passwordForm.confirm_password=e),type:"password",placeholder:"请再次输入新密码","show-password":""},null,8,["modelValue"])]),_:1}),(0,r.bF)(C,null,{default:(0,r.k6)(()=>[(0,r.bF)(v,{type:"primary",loading:b.passwordLoading,onClick:b.handleChangePassword},{default:(0,r.k6)(()=>[...a[35]||(a[35]=[(0,r.eW)(" 修改密码 ",-1)])]),_:1},8,["loading","onClick"]),(0,r.bF)(v,{onClick:b.resetPasswordForm},{default:(0,r.k6)(()=>[...a[36]||(a[36]=[(0,r.eW)("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])]),_:1})])])}t(4114),t(8111),t(116),t(1701);var k=t(953),g=t(5220),v=t(163),_=t(7918),h=t(5720),w=t(9537),y=t(8548),F={name:"UserCenterView",components:{User:y.User,Upload:y.Upload},setup(){const e=(0,g.rd)(),a=(0,k.KR)(),t=(0,k.KR)(),l=(0,k.KR)(),o=(0,k.KR)({}),n=(0,k.KR)(!1),s=(0,k.KR)(!1),d=(0,k.KR)(!1),i=(0,k.Kh)({username:"",student_id:"",email:"",phone:""}),c=(0,k.Kh)({default_fatigue_level:"medium",preferred_music_type:"natural",notification_enabled:!0,auto_play:!1}),u=(0,k.Kh)({old_password:"",new_password:"",confirm_password:""}),p=(0,k.KR)([]),f=(0,k.KR)(null),m={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:50,message:"用户名长度在 2 到 50 个字符",trigger:"blur"}],student_id:[{required:!0,message:"请输入学号",trigger:"blur"},{min:1,max:20,message:"学号长度在 1 到 20 个字符",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:"blur"}]},b={old_password:[{required:!0,message:"请输入原密码",trigger:"blur"}],new_password:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:50,message:"密码长度在 6 到 50 个字符",trigger:"blur"}],confirm_password:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(e,a,t)=>{a!==u.new_password?t(new Error("两次输入密码不一致")):t()},trigger:"blur"}]},y=()=>{const e=localStorage.getItem("user");if(e)try{return JSON.parse(e).id}catch{return 1}return 1},F=async()=>{try{const e=y(),a=await h.f.get("/auth/profile",{user_id:e});if(a&&200===a.code){const e=a.data||{};e.avatar&&(e.avatar=(0,w.V)(e.avatar)),o.value=e,Object.assign(i,{username:a.data.username,student_id:a.data.student_id,email:a.data.email||"",phone:a.data.phone||""}),a.data.preferences&&Object.assign(c,{default_fatigue_level:a.data.preferences.default_fatigue_level||"medium",preferred_music_type:a.data.preferences.preferred_music_type||"natural",notification_enabled:"true"===a.data.preferences.notification_enabled,auto_play:"true"===a.data.preferences.auto_play})}}catch(e){console.error("获取用户信息失败:",e),v.nk.error("获取用户信息失败")}},L=async()=>{try{const e=y(),a=await h.f.get("/auth/sessions",{user_id:e});if(a&&200===a.code){p.value=a.data.sessions;const e=localStorage.getItem("session_token"),t=p.value.find(a=>a.session_token===e);t&&(f.value=t.id)}}catch(e){console.error("获取会话列表失败:",e)}},C=async()=>{if(a.value)try{try{await a.value.validate()}catch(e){return}s.value=!0;const r=y(),l={};let o;void 0!==i.username&&""!==String(i.username).trim()&&(l.username=String(i.username).trim()),void 0!==i.email&&""!==String(i.email).trim()&&(l.email=String(i.email).trim()),void 0!==i.phone&&""!==String(i.phone).trim()&&(l.phone=String(i.phone).trim());try{o=await h.f.put("/auth/profile",l,{user_id:r})}catch(t){const e=t.response?.data||t.response?.data?.detail;if(console.error("更新用户资料失败 (后端):",t,e),e&&e.detail){const a=Array.isArray(e.detail)?e.detail.map(e=>e.msg).join("; "):String(e.detail);v.nk.error(a||"更新失败，数据校验未通过")}else t.response?.data?.msg?v.nk.error(t.response.data.msg):v.nk.error(t.message||"更新失败，请稍后重试");return}if(o&&200===o.code){v.nk.success("资料更新成功");try{localStorage.setItem("user",JSON.stringify(o.data))}catch(e){}try{window.dispatchEvent(new Event("auth-changed"))}catch(e){}n.value=!1,await F()}else v.nk.error(o?.msg||"更新失败")}catch(r){console.error("更新用户资料失败:",r),v.nk.error("更新失败，请稍后重试")}finally{s.value=!1}},x=async(e,a)=>{try{const t=y(),r=await h.f.put("/auth/preference",{preference_key:e,preference_value:a},{user_id:t});r&&200===r.code?v.nk.success("偏好设置已更新"):v.nk.error(r?.msg||"更新失败")}catch(t){console.error("更新偏好设置失败:",t),v.nk.error("更新失败，请稍后重试")}},S=async()=>{if(l.value)try{const e=await l.value.validate();if(!e)return;d.value=!0;const a=y(),t=await h.f.post("/auth/change-password",{old_password:u.old_password,new_password:u.new_password},{user_id:a});t&&200===t.code?(v.nk.success("密码修改成功"),U()):v.nk.error(t?.msg||"修改失败")}catch(e){console.error("修改密码失败:",e),v.nk.error("修改失败，请稍后重试")}finally{d.value=!1}},V=async e=>{try{await _.s.confirm("确定要撤销此会话吗？","确认撤销",{type:"warning",confirmButtonText:"确认",cancelButtonText:"取消"});const a=y(),t=await h.f.delete(`/auth/session/${e}`,{user_id:a});t&&200===t.code?(v.nk.success("会话已撤销"),await L()):v.nk.error(t?.msg||"撤销失败")}catch(a){"cancel"!==a&&(console.error("撤销会话失败:",a),v.nk.error("撤销失败，请稍后重试"))}},R=async()=>{try{await _.s.confirm("确定要退出所有设备吗？","确认退出",{type:"warning",confirmButtonText:"确认",cancelButtonText:"取消"}),v.nk.success("已退出所有设备"),localStorage.removeItem("session_token"),localStorage.removeItem("user");try{window.dispatchEvent(new Event("auth-changed"))}catch(a){}e.push("/login")}catch(t){"cancel"!==t&&console.error("退出所有设备失败:",t)}},E=async()=>{try{await _.s.confirm("删除账户将永久清除您的所有个人数据，且不可恢复。确定要继续吗？","确认删除",{type:"warning",confirmButtonText:"确定删除",cancelButtonText:"取消"});const t=y(),r=localStorage.getItem("session_token");if(!r)return void v.nk.error("未检测到登录状态，请先登录");const l=await h.f.post("/auth/delete",{session_token:r,user_id:t});if(l&&200===l.code){v.nk.success("账户已删除"),localStorage.removeItem("session_token"),localStorage.removeItem("user");try{window.dispatchEvent(new Event("auth-changed"))}catch(a){}e.push("/login")}else v.nk.error(l?.msg||"删除失败")}catch(t){"cancel"!==t&&(console.error("删除账户失败:",t),v.nk.error("删除失败，请稍后重试"))}},W=e=>{const a=e.type.startsWith("image/"),t=e.size/1024/1024<2;return a?!!t||(v.nk.error("图片大小不能超过 2MB!"),!1):(v.nk.error("只能上传图片文件!"),!1)},I=async e=>{try{const t=new FormData;t.append("avatar",e.file),t.append("user_id",String(y()));const r=await h.f.postForm("/user/avatar/upload",t);if(r&&200===r.code){v.nk.success("头像上传成功"),o.value.avatar=(0,w.V)(r.data.avatar_url);try{localStorage.setItem("user",JSON.stringify(Object.assign({},JSON.parse(localStorage.getItem("user")||"{}"),{avatar:o.value.avatar})))}catch(a){}try{window.dispatchEvent(new Event("auth-changed"))}catch(a){}}else v.nk.error(r?.msg||"上传失败")}catch(t){console.error("头像上传失败:",t),v.nk.error("上传失败，请稍后重试")}},T=()=>{Object.assign(i,{username:o.value.username,student_id:o.value.student_id,email:o.value.email||"",phone:o.value.phone||""})},U=()=>{Object.assign(u,{old_password:"",new_password:"",confirm_password:""})},A=e=>e?new Date(e).toLocaleString("zh-CN"):"-",B=(0,k.KR)(),K=(0,k.KR)(!1),z=(0,k.Kh)({type:"suggestion",content:""}),P=(0,k.KR)([]),O=(0,k.KR)(1),D=(0,k.KR)(20),X=async(e=1)=>{try{const a=y(),t=await h.f.get("/feedback/history",{user_id:a,page:e,page_size:D.value});t&&200===t.code&&(P.value=t.data.list||[],O.value=t.data.page||e)}catch(a){console.error("获取历史反馈失败:",a),v.nk.error("获取历史反馈失败")}},$=e=>{const a={accuracy:"primary",music:"success",function:"warning",suggestion:"primary",bug:"danger",other:"warning"};return a[e]||"info"},j=e=>{const a={accuracy:"检测准确性",music:"音乐推荐",function:"系统建议",suggestion:"功能建议",bug:"问题反馈",other:"其他"};return a[e]||e||"未知类型"},M=async()=>{try{const e=y(),a={user_id:e,feedback_type:z.type,content:z.content,score:0},t=await h.f.post("/feedback/submit",a);t&&200===t.code?(v.nk.success("反馈提交成功"),K.value=!1,z.type="suggestion",z.content="",await X(1)):v.nk.error(t?.msg||"提交失败")}catch(e){console.error("提交反馈失败:",e),v.nk.error("提交反馈失败")}};return(0,r.sV)(()=>{F(),L(),X()}),{userFormRef:a,preferencesFormRef:t,passwordFormRef:l,feedbackFormRef:B,userInfo:o,editMode:n,updateLoading:s,passwordLoading:d,userForm:i,preferencesForm:c,passwordForm:u,sessions:p,currentSessionId:f,showFeedbackForm:K,feedbackForm:z,feedbackList:P,userRules:m,passwordRules:b,handleUpdateProfile:C,updatePreference:x,handleChangePassword:S,handleRevokeSession:V,handleLogoutAll:R,handleDeleteAccount:E,beforeAvatarUpload:W,uploadAvatar:I,resolveMedia:w.V,resetForm:T,resetPasswordForm:U,formatDate:A,getFeedbackTypeTag:$,getFeedbackTypeText:j,handleSubmitFeedback:M}}},L=t(6262);const C=(0,L.A)(F,[["render",b],["__scopeId","data-v-23c6c0c8"]]);var x=C},6955:function(e,a,t){var r=t(2140),l=t(4901),o=t(2195),n=t(8227),s=n("toStringTag"),d=Object,i="Arguments"===o(function(){return arguments}()),c=function(e,a){try{return e[a]}catch(t){}};e.exports=r?o:function(e){var a,t,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=c(a=d(e),s))?t:i?o(a):"Object"===(r=o(a))&&l(a.callee)?"Arguments":r}},7476:function(e,a,t){var r=t(2195),l=t(9504);e.exports=function(e){if("Function"===r(e))return l(e)}},8148:function(e,a,t){t.d(a,{A:function(){return f}});var r=t(641),l=t(33);const o={class:"card-header"},n={key:0,class:"card-actions"},s={key:1,class:"card-footer"},d={key:2,class:"wave-decoration"};function i(e,a,t,i,c,u){const p=(0,r.g2)("el-card");return(0,r.uX)(),(0,r.Wv)(p,{class:(0,l.C4)(["modern-card",{"wave-card":t.waveStyle,"gradient-border":t.gradientBorder,"glow-effect":t.glowEffect,compact:t.compact},t.customClass]),shadow:i.shadowLevel},(0,r.eX)({default:(0,r.k6)(()=>[t.showHeaderBar||t.waveStyle?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"card-header-bar",style:(0,l.Tr)(i.headerBarStyle)},null,4)):(0,r.Q3)("",!0),(0,r.Lk)("div",{class:"card-content",style:(0,l.Tr)({padding:t.contentPadding})},[(0,r.RG)(e.$slots,"default",{},void 0,!0)],4),e.$slots.footer?((0,r.uX)(),(0,r.CE)("div",s,[(0,r.RG)(e.$slots,"footer",{},void 0,!0)])):(0,r.Q3)("",!0),t.waveStyle?((0,r.uX)(),(0,r.CE)("div",d,[...a[0]||(a[0]=[(0,r.Lk)("svg",{viewBox:"0 0 1440 320",xmlns:"http://www.w3.org/2000/svg"},[(0,r.Lk)("path",{fill:"currentColor","fill-opacity":"0.08",d:"M0,160L60,170.7C120,181,240,203,360,186.7C480,171,600,117,720,112C840,107,960,149,1080,176C1200,203,1320,213,1380,218.7L1440,224L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"})],-1)])])):(0,r.Q3)("",!0)]),_:2},[t.title||e.$slots.header?{name:"header",fn:(0,r.k6)(()=>[(0,r.Lk)("div",o,[(0,r.RG)(e.$slots,"header",{},()=>[(0,r.Lk)("h3",{class:(0,l.C4)(["card-title",{"title-gradient":t.gradientTitle,"title-large":"large"===t.titleSize,"title-medium":"medium"===t.titleSize,"title-small":"small"===t.titleSize}])},(0,l.v_)(t.title),3)],!0),e.$slots.actions?((0,r.uX)(),(0,r.CE)("div",n,[(0,r.RG)(e.$slots,"actions",{},void 0,!0)])):(0,r.Q3)("",!0)])]),key:"0"}:void 0]),1032,["class","shadow"])}var c={name:"CardContainer",props:{title:{type:String,default:""},shadow:{type:String,default:"hover"},customClass:{type:String,default:""},waveStyle:{type:Boolean,default:!1},gradientBorder:{type:Boolean,default:!1},glowEffect:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},showHeaderBar:{type:Boolean,default:!0},gradientTitle:{type:Boolean,default:!1},titleSize:{type:String,default:"medium",validator:e=>["small","medium","large"].includes(e)},contentPadding:{type:String,default:"24px"},headerBarColor:{type:String,default:""}},setup(e){const a=(0,r.EW)(()=>{switch(e.shadow){case"none":return"none";case"always":return"always";case"hover":default:return"hover"}}),t=(0,r.EW)(()=>e.headerBarColor?{backgroundColor:e.headerBarColor}:{});return{shadowLevel:a,headerBarStyle:t}}},u=t(6262);const p=(0,u.A)(c,[["render",i],["__scopeId","data-v-611ccd8c"]]);var f=p},9537:function(e,a,t){function r(e){if(!e)return e;try{const t=String(e);if(t.startsWith("http"))return t;const r=t.startsWith("/")?t:`/${t}`;try{const e=window.process?.env||{};let a=e.VUE_APP_API_BASE_URL||null;return a||(a=window.location.origin),a=String(a).replace(/\/$/,""),a=a.replace(/\/api$/,""),a+r}catch(a){return r}}catch(a){return e}}t.d(a,{V:function(){return r}})}}]);
//# sourceMappingURL=user.c3e72865.js.map