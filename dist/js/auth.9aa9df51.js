"use strict";(self["webpackChunkwavetune"]=self["webpackChunkwavetune"]||[]).push([[933],{6876:function(e,a,s){s.r(a),s.d(a,{default:function(){return X}});s(4114);var l=s(641),r=s(3751);const t={class:"register-view"},o={class:"register-container"},i={class:"register-card-inner"},n={class:"register-header"},c={class:"logo-section"},d={class:"logo-container"},u={class:"form-input-group"},g={class:"input-container"},m={class:"input-container"},p={class:"input-container"},k={class:"input-container"},f={class:"input-container"},b={class:"input-container"},v={key:0},L={class:"system-intro"},h={class:"intro-card"},F={class:"feature-list"},w={class:"feature-item"},_={class:"feature-icon-container"},y={class:"feature-item"},V={class:"feature-icon-container"},C={class:"feature-item"},x={class:"feature-icon-container"},R={class:"feature-item"},U={class:"feature-icon-container"};function P(e,a,s,P,A,W){const K=(0,l.g2)("Monitor"),E=(0,l.g2)("el-icon"),M=(0,l.g2)("User"),T=(0,l.g2)("el-input"),z=(0,l.g2)("el-form-item"),D=(0,l.g2)("CreditCard"),X=(0,l.g2)("Message"),q=(0,l.g2)("Phone"),H=(0,l.g2)("Lock"),S=(0,l.g2)("el-link"),I=(0,l.g2)("el-checkbox"),$=(0,l.g2)("Loading"),Z=(0,l.g2)("el-button"),j=(0,l.g2)("el-form"),B=(0,l.g2)("el-card"),G=(0,l.g2)("TrendCharts"),O=(0,l.g2)("Headset"),J=(0,l.g2)("DataAnalysis"),N=(0,l.g2)("Connection"),Q=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.CE)("div",t,[a[31]||(a[31]=(0,l.Lk)("div",{class:"wave-background"},[(0,l.Lk)("div",{class:"wave wave-1"}),(0,l.Lk)("div",{class:"wave wave-2"}),(0,l.Lk)("div",{class:"wave wave-3"})],-1)),(0,l.Lk)("div",o,[(0,l.bF)(B,{class:"register-card",shadow:"always"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",i,[(0,l.Lk)("div",n,[(0,l.Lk)("div",c,[(0,l.Lk)("div",d,[(0,l.bF)(E,{class:"logo-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(K)]),_:1})]),a[12]||(a[12]=(0,l.Lk)("h1",{class:"system-title gradient-text"},"WaveTune",-1))]),a[13]||(a[13]=(0,l.Lk)("p",{class:"system-subtitle"},"创建您的账户",-1))]),(0,l.bF)(j,{ref:"registerFormRef",model:P.registerForm,rules:P.registerRules,"label-width":"0",class:"register-form",onSubmit:(0,r.D$)(P.handleRegister,["prevent"])},{default:(0,l.k6)(()=>[(0,l.Lk)("div",u,[(0,l.bF)(z,{prop:"username",class:"form-item-custom"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",g,[(0,l.bF)(E,{class:"input-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(M)]),_:1}),(0,l.bF)(T,{modelValue:P.registerForm.username,"onUpdate:modelValue":a[0]||(a[0]=e=>P.registerForm.username=e),placeholder:"请输入用户名",size:"large",class:"custom-input",clearable:"","prefix-icon":""},null,8,["modelValue"])])]),_:1}),(0,l.bF)(z,{prop:"student_id",class:"form-item-custom"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",m,[(0,l.bF)(E,{class:"input-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(D)]),_:1}),(0,l.bF)(T,{modelValue:P.registerForm.student_id,"onUpdate:modelValue":a[1]||(a[1]=e=>P.registerForm.student_id=e),placeholder:"请输入学号",size:"large",class:"custom-input",clearable:"","prefix-icon":""},null,8,["modelValue"])])]),_:1}),(0,l.bF)(z,{prop:"email",class:"form-item-custom"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",p,[(0,l.bF)(E,{class:"input-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(X)]),_:1}),(0,l.bF)(T,{modelValue:P.registerForm.email,"onUpdate:modelValue":a[2]||(a[2]=e=>P.registerForm.email=e),placeholder:"请输入邮箱（可选）",size:"large",class:"custom-input",clearable:"","prefix-icon":""},null,8,["modelValue"])])]),_:1}),(0,l.bF)(z,{prop:"phone",class:"form-item-custom"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",k,[(0,l.bF)(E,{class:"input-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(q)]),_:1}),(0,l.bF)(T,{modelValue:P.registerForm.phone,"onUpdate:modelValue":a[3]||(a[3]=e=>P.registerForm.phone=e),placeholder:"请输入手机号（可选）",size:"large",class:"custom-input",clearable:"","prefix-icon":""},null,8,["modelValue"])])]),_:1}),(0,l.bF)(z,{prop:"password",class:"form-item-custom"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",f,[(0,l.bF)(E,{class:"input-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(H)]),_:1}),(0,l.bF)(T,{modelValue:P.registerForm.password,"onUpdate:modelValue":a[4]||(a[4]=e=>P.registerForm.password=e),type:"password",placeholder:"请输入密码",size:"large",class:"custom-input","show-password":"",clearable:"","prefix-icon":""},null,8,["modelValue"])])]),_:1}),(0,l.bF)(z,{prop:"confirmPassword",class:"form-item-custom"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",b,[(0,l.bF)(E,{class:"input-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(H)]),_:1}),(0,l.bF)(T,{modelValue:P.registerForm.confirmPassword,"onUpdate:modelValue":a[5]||(a[5]=e=>P.registerForm.confirmPassword=e),type:"password",placeholder:"请确认密码",size:"large",class:"custom-input","show-password":"",clearable:"",onKeyup:(0,r.jR)(P.handleRegister,["enter"]),"prefix-icon":""},null,8,["modelValue","onKeyup"])])]),_:1})]),(0,l.bF)(z,{prop:"agreement",class:"options-row"},{default:(0,l.k6)(()=>[(0,l.bF)(I,{modelValue:P.registerForm.agreement,"onUpdate:modelValue":a[6]||(a[6]=e=>P.registerForm.agreement=e),class:"agreement-checkbox"},{default:(0,l.k6)(()=>[a[16]||(a[16]=(0,l.Lk)("span",{class:"checkbox-label"},"我已阅读并同意",-1)),(0,l.bF)(S,{type:"primary",onClick:P.showUserAgreement},{default:(0,l.k6)(()=>[...a[14]||(a[14]=[(0,l.eW)("《用户协议》",-1)])]),_:1},8,["onClick"]),a[17]||(a[17]=(0,l.Lk)("span",{class:"checkbox-label"},"和",-1)),(0,l.bF)(S,{type:"primary",onClick:P.showPrivacyPolicy},{default:(0,l.k6)(()=>[...a[15]||(a[15]=[(0,l.eW)("《隐私政策》",-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(z,null,{default:(0,l.k6)(()=>[(0,l.bF)(Z,{type:"primary",size:"large",class:"register-button gradient-button",loading:P.registerLoading,onClick:P.handleRegister},{default:(0,l.k6)(()=>[P.registerLoading?((0,l.uX)(),(0,l.Wv)(E,{key:1,class:"loading-icon"},{default:(0,l.k6)(()=>[(0,l.bF)($)]),_:1})):((0,l.uX)(),(0,l.CE)("span",v,"立即注册"))]),_:1},8,["loading","onClick"])]),_:1}),(0,l.bF)(z,{class:"login-link"},{default:(0,l.k6)(()=>[a[19]||(a[19]=(0,l.Lk)("span",{class:"login-text"},"已有账户？",-1)),(0,l.bF)(S,{type:"primary",class:"login-button-link",onClick:a[7]||(a[7]=a=>e.$router.push("/login"))},{default:(0,l.k6)(()=>[...a[18]||(a[18]=[(0,l.eW)(" 立即登录 ",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules","onSubmit"])])]),_:1}),(0,l.Lk)("div",L,[(0,l.Lk)("div",h,[a[24]||(a[24]=(0,l.Lk)("h2",{class:"intro-title"},"智能脑疲劳检测与音乐干预系统",-1)),a[25]||(a[25]=(0,l.Lk)("p",{class:"intro-description"}," 通过EEG、EOG、HRV等多模态生理信号实时监测脑疲劳状态， 并提供个性化轻音乐干预方案，帮助用户缓解疲劳、提升专注力。 ",-1)),(0,l.Lk)("div",F,[(0,l.Lk)("div",w,[(0,l.Lk)("div",_,[(0,l.bF)(E,{class:"feature-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(G)]),_:1})]),a[20]||(a[20]=(0,l.Lk)("div",{class:"feature-content"},[(0,l.Lk)("h3",{class:"feature-title"},"智能检测"),(0,l.Lk)("p",{class:"feature-desc"},"基于多模态生理信号的实时脑疲劳检测")],-1))]),(0,l.Lk)("div",y,[(0,l.Lk)("div",V,[(0,l.bF)(E,{class:"feature-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(O)]),_:1})]),a[21]||(a[21]=(0,l.Lk)("div",{class:"feature-content"},[(0,l.Lk)("h3",{class:"feature-title"},"音乐干预"),(0,l.Lk)("p",{class:"feature-desc"},"个性化轻音乐干预方案")],-1))]),(0,l.Lk)("div",C,[(0,l.Lk)("div",x,[(0,l.bF)(E,{class:"feature-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(J)]),_:1})]),a[22]||(a[22]=(0,l.Lk)("div",{class:"feature-content"},[(0,l.Lk)("h3",{class:"feature-title"},"数据分析"),(0,l.Lk)("p",{class:"feature-desc"},"详细的健康数据分析和趋势跟踪")],-1))]),(0,l.Lk)("div",R,[(0,l.Lk)("div",U,[(0,l.bF)(E,{class:"feature-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(N)]),_:1})]),a[23]||(a[23]=(0,l.Lk)("div",{class:"feature-content"},[(0,l.Lk)("h3",{class:"feature-title"},"隐私保护"),(0,l.Lk)("p",{class:"feature-desc"},"联邦学习技术确保个人数据安全")],-1))])]),a[26]||(a[26]=(0,l.Fv)('<div class="wave-accent" data-v-e89e5740><svg viewBox="0 0 1200 120" preserveAspectRatio="none" data-v-e89e5740><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity="0.25" class="shape-fill" data-v-e89e5740></path><path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity="0.5" class="shape-fill" data-v-e89e5740></path><path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" class="shape-fill" data-v-e89e5740></path></svg></div>',1))])])]),(0,l.bF)(Q,{modelValue:P.userAgreementVisible,"onUpdate:modelValue":a[9]||(a[9]=e=>P.userAgreementVisible=e),title:"用户协议",width:"600px","close-on-click-modal":!1},{footer:(0,l.k6)(()=>[(0,l.bF)(Z,{type:"primary",onClick:a[8]||(a[8]=e=>P.userAgreementVisible=!1)},{default:(0,l.k6)(()=>[...a[27]||(a[27]=[(0,l.eW)("我已阅读",-1)])]),_:1})]),default:(0,l.k6)(()=>[a[28]||(a[28]=(0,l.Lk)("div",{class:"agreement-content"},[(0,l.Lk)("h4",null,"1. 服务条款"),(0,l.Lk)("p",null,"欢迎使用 WaveTune 脑疲劳检测与音乐干预系统。通过注册和使用本服务，您同意遵守以下条款和条件。"),(0,l.Lk)("h4",null,"2. 用户责任"),(0,l.Lk)("p",null,"用户应确保提供的信息真实、准确、完整，并承担因信息不实导致的一切后果。"),(0,l.Lk)("h4",null,"3. 隐私保护"),(0,l.Lk)("p",null,"我们承诺保护用户隐私，采用联邦学习技术确保数据安全，不会泄露用户个人信息。"),(0,l.Lk)("h4",null,"4. 服务限制"),(0,l.Lk)("p",null,"本服务仅供个人学习和研究使用，不得用于商业用途或非法活动。"),(0,l.Lk)("h4",null,"5. 免责声明"),(0,l.Lk)("p",null,"本系统提供的检测结果仅供参考，不能替代专业医疗诊断。")],-1))]),_:1},8,["modelValue"]),(0,l.bF)(Q,{modelValue:P.privacyPolicyVisible,"onUpdate:modelValue":a[11]||(a[11]=e=>P.privacyPolicyVisible=e),title:"隐私政策",width:"600px","close-on-click-modal":!1},{footer:(0,l.k6)(()=>[(0,l.bF)(Z,{type:"primary",onClick:a[10]||(a[10]=e=>P.privacyPolicyVisible=!1)},{default:(0,l.k6)(()=>[...a[29]||(a[29]=[(0,l.eW)("我已阅读",-1)])]),_:1})]),default:(0,l.k6)(()=>[a[30]||(a[30]=(0,l.Lk)("div",{class:"agreement-content"},[(0,l.Lk)("h4",null,"1. 信息收集"),(0,l.Lk)("p",null,"我们仅收集必要的用户信息，包括学号、用户名、邮箱等基本信息。"),(0,l.Lk)("h4",null,"2. 信息使用"),(0,l.Lk)("p",null,"收集的信息仅用于提供服务和改善用户体验，不会用于其他目的。"),(0,l.Lk)("h4",null,"3. 数据安全"),(0,l.Lk)("p",null,"采用加密技术保护用户数据，使用联邦学习技术确保数据隐私。"),(0,l.Lk)("h4",null,"4. 信息共享"),(0,l.Lk)("p",null,"我们不会与第三方共享用户个人信息，除非获得用户明确同意。"),(0,l.Lk)("h4",null,"5. 用户权利"),(0,l.Lk)("p",null,"用户有权查看、修改、删除个人信息，或要求停止使用服务。")],-1))]),_:1},8,["modelValue"])])}var A=s(953),W=s(5220),K=s(163),E=s(5720),M=s(8548),T={name:"RegisterView",components:{User:M.User,Lock:M.Lock,Monitor:M.Monitor,CreditCard:M.CreditCard,Message:M.Message,Phone:M.Phone,TrendCharts:M.TrendCharts,Headset:M.Headset,DataAnalysis:M.DataAnalysis,Connection:M.Connection,Loading:M.Loading},setup(){const e=(0,W.rd)(),a=(0,A.KR)(),s=(0,A.Kh)({username:"",student_id:"",email:"",phone:"",password:"",confirmPassword:"",agreement:!1}),l=(0,A.KR)(!1),r=(0,A.KR)(!1),t=(0,A.KR)(!1),o=(e,a,l)=>{""===a?l(new Error("请再次输入密码")):a!==s.password?l(new Error("两次输入密码不一致")):l()},i=(e,a,s)=>{a?s():s(new Error("请阅读并同意用户协议和隐私政策"))},n={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:50,message:"用户名长度在 2 到 50 个字符",trigger:"blur"}],student_id:[{required:!0,message:"请输入学号",trigger:"blur"},{min:1,max:20,message:"学号长度在 1 到 20 个字符",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:50,message:"密码长度在 6 到 50 个字符",trigger:"blur"}],confirmPassword:[{required:!0,validator:o,trigger:"blur"}],agreement:[{required:!0,validator:i,trigger:"change"}]},c=async()=>{if(a.value)try{const t=await a.value.validate();if(!t)return;l.value=!0;const o={username:s.username,student_id:s.student_id,password:s.password};let i;s.email&&(o.email=s.email),s.phone&&(o.phone=s.phone);try{i=await E.f.post("/auth/register",o)}catch(r){return console.error("注册错误:",r),void K.nk.error(r.message||"注册失败，请检查网络连接")}i&&200===i.code?(K.nk.success("注册成功！请登录"),e.push("/login")):K.nk.error(i?.msg||"注册失败")}catch(t){console.error("注册错误:",t),K.nk.error("注册失败，请检查网络连接")}finally{l.value=!1}},d=()=>{r.value=!0},u=()=>{t.value=!0};return{registerFormRef:a,registerForm:s,registerLoading:l,userAgreementVisible:r,privacyPolicyVisible:t,registerRules:n,handleRegister:c,showUserAgreement:d,showPrivacyPolicy:u}}},z=s(6262);const D=(0,z.A)(T,[["render",P],["__scopeId","data-v-e89e5740"]]);var X=D},7679:function(e,a,s){s.r(a),s.d(a,{default:function(){return K}});s(4114);var l=s(641),r=s(3751),t=s(33);const o={class:"login-view"},i={class:"login-container"},n={class:"login-card-inner"},c={class:"login-header"},d={class:"logo-section"},u={class:"logo-container"},g={class:"form-input-group"},m={class:"input-container"},p={class:"input-container"},k={key:0},f={key:0,class:"demo-account-info"},b={class:"system-intro"},v={class:"intro-card"},L={class:"feature-list"},h={class:"feature-icon-container"},F={class:"feature-content"},w={class:"feature-title"},_={class:"feature-desc"};function y(e,a,s,y,V,C){const x=(0,l.g2)("Monitor"),R=(0,l.g2)("el-icon"),U=(0,l.g2)("User"),P=(0,l.g2)("el-input"),A=(0,l.g2)("el-form-item"),W=(0,l.g2)("Lock"),K=(0,l.g2)("el-checkbox"),E=(0,l.g2)("el-link"),M=(0,l.g2)("Loading"),T=(0,l.g2)("el-button"),z=(0,l.g2)("el-form"),D=(0,l.g2)("el-card"),X=(0,l.g2)("el-dialog");return(0,l.uX)(),(0,l.CE)("div",o,[a[20]||(a[20]=(0,l.Lk)("div",{class:"wave-background"},[(0,l.Lk)("div",{class:"wave wave-1"}),(0,l.Lk)("div",{class:"wave wave-2"}),(0,l.Lk)("div",{class:"wave wave-3"})],-1)),(0,l.Lk)("div",i,[(0,l.bF)(D,{class:"login-card",shadow:"always"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",n,[(0,l.Lk)("div",c,[(0,l.Lk)("div",d,[(0,l.Lk)("div",u,[(0,l.bF)(R,{class:"logo-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(x)]),_:1})]),a[8]||(a[8]=(0,l.Lk)("h1",{class:"system-title gradient-text"},"WaveTune",-1))]),a[9]||(a[9]=(0,l.Lk)("p",{class:"system-subtitle"},"智能脑疲劳检测与音乐干预系统",-1))]),(0,l.bF)(z,{ref:"loginFormRef",model:y.loginForm,rules:y.loginRules,"label-width":"0",class:"login-form",onSubmit:(0,r.D$)(y.handleLogin,["prevent"])},{default:(0,l.k6)(()=>[(0,l.Lk)("div",g,[(0,l.bF)(A,{prop:"student_id",class:"form-item-custom"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",m,[(0,l.bF)(R,{class:"input-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(U)]),_:1}),(0,l.bF)(P,{modelValue:y.loginForm.student_id,"onUpdate:modelValue":a[0]||(a[0]=e=>y.loginForm.student_id=e),placeholder:"请输入学号",size:"large",class:"custom-input",clearable:"","prefix-icon":""},null,8,["modelValue"])])]),_:1}),(0,l.bF)(A,{prop:"password",class:"form-item-custom"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",p,[(0,l.bF)(R,{class:"input-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(W)]),_:1}),(0,l.bF)(P,{modelValue:y.loginForm.password,"onUpdate:modelValue":a[1]||(a[1]=e=>y.loginForm.password=e),type:"password",placeholder:"请输入密码",size:"large",class:"custom-input","show-password":"",clearable:"",onKeyup:(0,r.jR)(y.handleLogin,["enter"]),"prefix-icon":""},null,8,["modelValue","onKeyup"])])]),_:1})]),(0,l.bF)(A,{class:"options-row"},{default:(0,l.k6)(()=>[(0,l.bF)(K,{modelValue:y.loginForm.remember,"onUpdate:modelValue":a[2]||(a[2]=e=>y.loginForm.remember=e),class:"remember-checkbox"},{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.Lk)("span",{class:"checkbox-label"},"记住我",-1)])]),_:1},8,["modelValue"]),(0,l.bF)(E,{type:"primary",class:"forgot-password",onClick:y.showForgotPassword},{default:(0,l.k6)(()=>[...a[11]||(a[11]=[(0,l.eW)(" 忘记密码？ ",-1)])]),_:1},8,["onClick"])]),_:1}),(0,l.bF)(A,null,{default:(0,l.k6)(()=>[(0,l.bF)(T,{type:"primary",size:"large",class:"login-button gradient-button",loading:y.loginLoading,onClick:y.handleLogin},{default:(0,l.k6)(()=>[y.loginLoading?((0,l.uX)(),(0,l.Wv)(R,{key:1,class:"loading-icon"},{default:(0,l.k6)(()=>[(0,l.bF)(M)]),_:1})):((0,l.uX)(),(0,l.CE)("span",k,"登录"))]),_:1},8,["loading","onClick"]),y.loginLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("p",f,[...a[12]||(a[12]=[(0,l.eW)(" 测试账号: ",-1),(0,l.Lk)("span",{class:"account-text"},"20232005118",-1),(0,l.eW)(" / ",-1),(0,l.Lk)("span",{class:"password-text"},"123456",-1)])]))]),_:1}),(0,l.bF)(A,{class:"register-link"},{default:(0,l.k6)(()=>[a[14]||(a[14]=(0,l.Lk)("span",{class:"register-text"},"还没有账户？",-1)),(0,l.bF)(E,{type:"primary",class:"register-button",onClick:a[3]||(a[3]=a=>e.$router.push("/register"))},{default:(0,l.k6)(()=>[...a[13]||(a[13]=[(0,l.eW)(" 立即注册 ",-1)])]),_:1})]),_:1})]),_:1},8,["model","rules","onSubmit"])])]),_:1}),(0,l.Lk)("div",b,[(0,l.Lk)("div",v,[a[15]||(a[15]=(0,l.Lk)("h2",{class:"intro-title"},"智能脑疲劳检测系统",-1)),a[16]||(a[16]=(0,l.Lk)("p",{class:"intro-description"}," WaveTune 利用多模态生理信号监测技术，结合人工智能算法， 精准检测脑疲劳状态，并提供个性化音乐干预方案， 帮助您恢复精力，提高学习和工作效率。 ",-1)),(0,l.Lk)("div",L,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(y.features,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{class:"feature-item",key:a},[(0,l.Lk)("div",h,[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.icon),{class:"feature-icon"}))]),(0,l.Lk)("div",F,[(0,l.Lk)("h4",w,(0,t.v_)(e.title),1),(0,l.Lk)("p",_,(0,t.v_)(e.description),1)])]))),128))]),a[17]||(a[17]=(0,l.Lk)("div",{class:"wave-accent"},[(0,l.Lk)("svg",{viewBox:"0 0 1440 120",xmlns:"http://www.w3.org/2000/svg"},[(0,l.Lk)("path",{fill:"rgba(255,255,255,0.2)",d:"M0,96L48,85.3C96,75,192,53,288,53.3C384,53,480,75,576,80C672,85,768,75,864,64C960,53,1056,43,1152,48C1248,53,1344,75,1392,85.3L1440,96L1440,120L1392,120C1344,120,1248,120,1152,120C1056,120,960,120,864,120C768,120,672,120,576,120C480,120,384,120,288,120C192,120,96,120,48,120L0,120Z"})])],-1))])])]),(0,l.bF)(X,{modelValue:y.forgotPasswordVisible,"onUpdate:modelValue":a[7]||(a[7]=e=>y.forgotPasswordVisible=e),title:"重置密码",width:"400px","close-on-click-modal":!1,class:"custom-dialog"},{footer:(0,l.k6)(()=>[(0,l.bF)(T,{onClick:a[6]||(a[6]=e=>y.forgotPasswordVisible=!1)},{default:(0,l.k6)(()=>[...a[18]||(a[18]=[(0,l.eW)("取消",-1)])]),_:1}),(0,l.bF)(T,{type:"primary",loading:y.forgotLoading,onClick:y.handleForgotPassword},{default:(0,l.k6)(()=>[...a[19]||(a[19]=[(0,l.eW)(" 发送重置邮件 ",-1)])]),_:1},8,["loading","onClick"])]),default:(0,l.k6)(()=>[(0,l.bF)(z,{ref:"forgotFormRef",model:y.forgotForm,rules:y.forgotRules,"label-width":"80px"},{default:(0,l.k6)(()=>[(0,l.bF)(A,{label:"学号",prop:"student_id"},{default:(0,l.k6)(()=>[(0,l.bF)(P,{modelValue:y.forgotForm.student_id,"onUpdate:modelValue":a[4]||(a[4]=e=>y.forgotForm.student_id=e),placeholder:"请输入学号",class:"custom-input"},null,8,["modelValue"])]),_:1}),(0,l.bF)(A,{label:"邮箱",prop:"email"},{default:(0,l.k6)(()=>[(0,l.bF)(P,{modelValue:y.forgotForm.email,"onUpdate:modelValue":a[5]||(a[5]=e=>y.forgotForm.email=e),placeholder:"请输入注册邮箱",class:"custom-input"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}var V=s(953),C=s(5220),x=s(163),R=s(5720),U=s(8548),P={name:"LoginView",components:{User:U.User,Lock:U.Lock,Monitor:U.Monitor,TrendCharts:U.TrendCharts,Headset:U.Headset,Connection:U.Connection,DataAnalysis:U.DataAnalysis,Loading:U.Loading},setup(){const e=(0,C.rd)(),a=(0,V.KR)(),s=(0,V.KR)(),l=(0,V.Kh)({student_id:"",password:"",remember:!1}),r=(0,V.Kh)({student_id:"",email:""}),t=(0,V.KR)(!1),o=(0,V.KR)(!1),i=(0,V.KR)(!1),n={student_id:[{required:!0,message:"请输入学号",trigger:"blur"},{min:1,max:20,message:"学号长度在 1 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:50,message:"密码长度在 6 到 50 个字符",trigger:"blur"}]},c={student_id:[{required:!0,message:"请输入学号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},d=[{icon:U.TrendCharts,title:"多模态生理信号",description:"结合脑电、心率等多维度数据，精准评估疲劳状态"},{icon:U.Headset,title:"个性化音乐干预",description:"基于您的脑疲劳状态，智能推荐合适的音乐"},{icon:U.Connection,title:"联邦学习保护",description:"采用先进的联邦学习技术，保护您的隐私数据"},{icon:U.DataAnalysis,title:"智能疲劳检测",description:"AI算法实时分析，提供科学的疲劳评估报告"}],u=async()=>{if(a.value)try{const o=await a.value.validate();if(!o)return;let i;t.value=!0;try{i=await R.f.post("/auth/login",{student_id:l.student_id,password:l.password,device_info:navigator.userAgent})}catch(s){console.error("登录错误:",s);const e=s.response?.data?.msg||s.response?.data?.detail;return void x.nk.error(e||s.message||"登录失败，请检查网络连接")}if(i&&200===i.code){localStorage.setItem("user",JSON.stringify(i.data.user)),localStorage.setItem("session_token",i.data.session_token),x.nk.success("登录成功！");try{window.dispatchEvent(new Event("auth-changed"))}catch(r){}e.push("/")}else x.nk.error(i?.msg||"登录失败")}catch(o){console.error("登录错误:",o),x.nk.error("登录失败，请检查网络连接")}finally{t.value=!1}},g=()=>{o.value=!0},m=async()=>{if(s.value)try{const a=await s.value.validate();if(!a)return;i.value=!0;try{const e=await R.f.post("/auth/reset-password",r);e&&200===e.code?(x.nk.success("重置邮件已发送，请查收邮箱"),o.value=!1,r.student_id="",r.email=""):x.nk.error(e?.msg||"发送失败")}catch(e){console.error("重置密码错误:",e),x.nk.error("发送失败，请稍后重试")}}catch(a){console.error("重置密码错误:",a),x.nk.error("发送失败，请稍后重试")}finally{i.value=!1}};return{loginFormRef:a,forgotFormRef:s,loginForm:l,forgotForm:r,loginLoading:t,forgotPasswordVisible:o,forgotLoading:i,loginRules:n,forgotRules:c,features:d,handleLogin:u,showForgotPassword:g,handleForgotPassword:m,User:U.User,Lock:U.Lock,Monitor:U.Monitor,TrendCharts:U.TrendCharts,Headset:U.Headset,Connection:U.Connection,DataAnalysis:U.DataAnalysis}}},A=s(6262);const W=(0,A.A)(P,[["render",y],["__scopeId","data-v-2540aa14"]]);var K=W}}]);
//# sourceMappingURL=auth.9aa9df51.js.map