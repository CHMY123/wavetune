# WaveTune 前端视觉与交互设计规范（优化版）

版本：2.0作者：自动生成（基于一线音乐产品对标优化）日期：2025-11-19说明本文件为项目中所有前端页面的视觉 / 艺术设计说明（针对 UI 视觉、布局、交互、动效、配色、字体与可访问性），目标是把各页面的体验对标为一线音乐应用（如网易云音乐、Spotify、QQ 音乐）的现代视觉风格，同时兼顾项目现有的 Element Plus 组件与工程实现。目标受众：产品设计师、前端开发者、UI/UX 设计师、PM。

## 设计原则（总体）

- 简洁而具表现力：保留必要的信息密度，突出音乐 / 推荐 / 播放体验。
- 视觉层次明确：使用卡片、阴影、色彩与留白构建层次。
- 可触达交互：主要操作（播放、添加、上传、收藏）在显眼位置，移动端一指可触达。
- 品牌化风格：使用确定的主色 / 辅助色 / 渐变与独特封面卡片视觉，打造品牌识别。
- 无障碍与国际化：对比度、可聚焦元素、语义化标签、中文 / 英文可切换文案。
- 性能优先：动效与视觉设计兼顾性能，确保全场景 60fps 流畅体验（新增）。

## 设计 Token（变量）

建议在全局 SCSS 变量或 CSS 变量中定义：

### 颜色

- --brand-primary: #1db954（示例，借鉴流行音乐 App 的活力绿，可替换为 WaveTune 品牌色）
- --brand-accent: linear-gradient(90deg,#1db954 0%, #4ae3a4 100%)
- --bg-page: #ffffff
- --bg-card: #ffffff
- --bg-music: #f6f7fb
- --text-primary: #111827
- --text-secondary: #6b7280
- --muted: #9ca3af
- --danger: #ff4d4f
- 新增：暗色模式配色（自动切换逻辑：跟随系统主题，支持手动覆盖）
  - --brand-primary-dark: #22c55e
  - --brand-accent-dark: linear-gradient(90deg,#22c55e 0%, #67eead 100%)
  - --bg-page-dark: #0f172a
  - --bg-card-dark: #1e293b
  - --bg-music-dark: #1e293b
  - --text-primary-dark: #f8fafc
  - --text-secondary-dark: #94a3b8
  - --muted-dark: #64748b
  - --danger-dark: #f87171

### 字体与排版

- font-family: Inter, "Helvetica Neue", Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif
- 基线字号：16px
- heading weights: h1:600, h2:600, h3:500
- 新增：字体缩放等级（5 级可调）
  - --font-scale-1: 0.875rem（14px）
  - --font-scale-2: 1rem（16px，默认）
  - --font-scale-3: 1.125rem（18px）
  - --font-scale-4: 1.25rem（20px）
  - --font-scale-5: 1.5rem（24px）

### 间距

- spacing-xxs: 4px; xs:8px; sm:12px; md:16px; lg:24px; xl:32px

### 圆角与阴影

- radius-sm: 6px; radius-md: 12px
- shadow-soft: 0 4px 12px rgba(17,24,39,0.06)
- 新增：阴影层级
  - shadow-1: 0 2px 8px rgba(0,0,0,0.08)
  - shadow-2: 0 4px 16px rgba(0,0,0,0.12)
  - shadow-3: 0 8px 24px rgba(0,0,0,0.16)

### 新增：z-index 层级体系

- z-index-1: 10（内容层：卡片、列表项）
- z-index-2: 50（导航层：Navbar）
- z-index-3: 100（悬浮层：播放小窗、下拉菜单）
- z-index-4: 500（弹窗层：模态框、播放器展开层）
- z-index-5: 1000（系统层：通知、加载遮罩）
- 堆叠规则：播放器展开层 > 模态框 > 播放小窗 > 导航栏 > 内容层 > 背景层

## 视觉规范（按页面）

### 1. 全局头部 / 导航栏（Navbar.vue）

目标：在保证功能性（登录、搜索、导航、当前播放小窗）的同时，视觉轻量且具品牌识别。类似网易云顶部对搜索 / 导航的处理。

- 布局：横向居中布局，左侧 Logo + 品牌名，中间可选搜索框 / 路由名，右侧为用户头像 / 消息 / 控制（播放 / 心愿）
- 大小：高度 64px（桌面），移动 56px
- 颜色：背景透明或轻灰（#ffffff / 半透明），文字主色 --text-primary；暗色模式下背景 --bg-card-dark，文字 --text-primary-dark
- 交互
  - 鼠标悬浮显示二级菜单（如个人中心、登出）
  - 头像使用圆形 36px，带 1px 边框与微阴影
  - 新增：场景化交互规则
    - 滚动时：导航栏背景从不透明渐变至纯色（桌面端滚动距离 > 50px 触发），高度收缩 8px
    - 播放状态时：导航栏右侧显示迷你播放控制（播放 / 暂停、当前歌曲名缩写），点击跳转至播放器
- 元素
  - 搜索：带放大镜图标的输入框，自动建议（下拉）
  - 当前播放条：右下角悬浮小窗，使用半透明背景与圆角，点击展开音乐播放器
- 实现要点
  - 使用 position: sticky; top: 0 实现顶部固定（滚动时不遮挡内容）
  - Logo 使用 SVG，支持深色 / 浅色模式
  - 新增：响应式适配细则
    - ≥1200px：完整显示 Logo + 品牌名 + 搜索框 + 全部功能按钮
    - 992px~1199px：隐藏部分功能按钮（如消息），搜索框缩短
    - 768px~991px：仅显示 Logo + 搜索图标 + 用户头像，导航菜单折叠为汉堡按钮
    - <768px：Logo 简化为图标，搜索框隐藏（点击图标展开），功能按钮折叠

### 2. 音乐推荐页（MusicRecommendationView.vue）

目标：主视觉页面，卡片化音乐推荐，参考网易云 / Spotify 的封面网格与播放交互。

- 页面布局
  - Header（页描述 + 分组筛选）：左侧大标题 + 推荐依据，右侧筛选（疲劳等级、音乐类型、添加音乐）
  - 音乐卡片网格：4~6 列自适应（桌面 4-6；tablet 2-3；mobile 1-2）
  - 每张卡片包含：封面（主要视觉）、播放按钮（中央悬浮）、标题、艺术家、时长、匹配百分比（角标）、操作（更多菜单：添加到列表 / 下载 / 分享 / 删除）
- 卡片视觉
  - 封面：正方形，圆角 8-12px，视觉投影（shadow-soft）。封面上方中央放置半透明圆形播放按钮（icon）
  - 鼠标 hover：封面轻微放大 1.03，播放按钮放大并变色（品牌主色）；卡片阴影加深
  - 匹配角标：右上角圆角 badge，使用渐变背景 --brand-accent
  - 新增：内容优先级展示规则
    1. 封面图（视觉权重 40%）
    2. 播放按钮（视觉权重 25%）
    3. 标题（视觉权重 15%）
    4. 艺术家（视觉权重 10%）
    5. 匹配百分比（视觉权重 5%）
    6. 时长（视觉权重 3%）
    7. 操作菜单（视觉权重 2%）
- 列表交互
  - 点击封面或播放按钮：open 小型播放模态或侧边浮窗播放
  - 点击三点菜单：显示操作菜单（加入收藏、查看详情、去作者页、删除）
  - 新增：微交互规范
    - 播放 / 暂停按钮：点击时缩放动画（1.1 倍放大后还原），过渡时长 0.2s
    - 收藏按钮：点击时颜色从默认色渐变至品牌主色，伴随轻微弹跳动画（transform: scale (1.2) → scale (1)），时长 0.25s
    - 分享按钮：点击时展开扇形扩散动画，时长 0.3s
  - 新增：手势操作体系
    - 左右滑动（卡片）：显示删除 / 收藏快捷操作，滑动距离 > 50px 触发操作
    - 长按（卡片）：弹出操作菜单，长按时长 ≥500ms 触发
    - 双指缩放（封面）：放大查看高清封面，缩放范围 1~2 倍
- 移动端
  - 卡片缩小至 48~56% 屏宽（两列）或 100%（一列），播放按钮为圆形大按钮固定在封面中心
  - 支持手势：左右滑动可切换推荐（未来增强）
- 设计要点
  - 封面图优先级高，保证图片高清（建议至少 400px 方图）
  - 动画：使用 transform + opacity 实现高性能动效
  - 新增：状态视觉解决方案
    - 加载状态：卡片使用骨架屏（封面区域灰色占位 + 文字渐变加载动画）
    - 空状态：居中显示音乐图标 +“暂无推荐” 文案 + 引导按钮，支持轻微浮动画效
    - 错误状态：显示错误图标 +“加载失败” 文案 + 刷新按钮，点击刷新触发重新请求
  - 新增：音频可视化动效规范（封面底部添加简易频谱动画）
    - 动画类型：柱状频谱，5~7 个柱形
    - 动画频率：随音频节奏变化（基于 Web Audio API）
    - 性能优化：使用 CSS 硬件加速，帧率稳定 60fps
    - 样式：品牌主色，透明度 0.7~1，高度变化范围 4~16px

### 3. 音乐播放器（MusicPlayer.vue）

目标：实现轻量但功能完整的音乐播放体验（播放 / 暂停、进度、音量、封面、喜欢、下一首、播放列表）

- 外观
  - 浮动小窗（底部或者右下角）：高度 80-96px，圆角 8px，半透明背景
  - 歌曲信息：小封面 56px + 标题 + 艺术家
  - 控制区：上一曲、播放 / 暂停（大号圆形按钮）、下一曲；进度条显示在控制区上方
  - 下拉 / 展开：点击扩展展示完整播放器（歌单、歌词、波形可视化）
- 交互
  - 播放按钮：点击后浮层动效（缩放）并切换图标
  - 进度：支持拖拽，同时减少频繁请求（debounce）
  - 音量：悬浮显示滑块
  - 新增：微交互规范
    - 进度条拖拽：拖拽时滑块放大 1.5 倍，释放后还原，过渡时长 0.2s
    - 音量调节：滑块 hover 时宽度从 20px 扩展至 80px，过渡时长 0.3s
    - 歌词滚动：随播放进度平滑滚动，当前歌词高亮（品牌色），过渡时长 0.3s
  - 新增：场景化交互规则
    - 播放状态下：推荐页当前播放卡片高亮（边框 / 阴影变化），歌词同步滚动
    - 切换歌曲：封面图淡入淡出切换，伴随轻微缩放动画
- 新增：音频可视化动效（完整播放器模式）
  - 波形类型：平滑曲线波形
  - 颜色：品牌主色 + 辅助色渐变
  - 响应方式：随音量大小变化高度，随频率变化疏密
  - 性能优化：使用 Canvas 绘制，每帧更新间隔 ≥16ms，避免卡顿

### 4. 用户反馈 / 个人中心（UserFeedbackView.vue, UserCenterView.vue）

目标：优雅呈现个人信息、历史反馈、反馈表单，风格须保持简洁且信任感强。

- 卡片：使用 CardContainer 组件，内边距增加（md），卡片内分栏布局（profile 与 form / 历史分栏）
- 反馈表单
  - 输入：textarea（最大 500 字），实时字数统计
  - 星级评分：使用 el-rate，配色为品牌色
  - 操作按钮：取消 / 提交。提交后带微交互（按钮 loading -> 成功提示）
  - 新增：微交互规范
    - 提交按钮：点击后禁用并显示 loading 动画，成功后显示对勾图标并渐变消失，时长 0.3s
    - 输入框：聚焦时边框变色（品牌主色），失焦时还原，过渡时长 0.2s
- 历史列表
  - 使用 timeline 或 list 展示，条目右侧提供 “删除” 与 “查看详情” 操作
  - 每个条目卡片化，支持展开显示完整内容
  - 新增：手势操作
    - 左右滑动（条目）：显示删除 / 编辑快捷按钮，滑动距离 > 30px 触发
    - 长按（条目）：弹出操作菜单，支持批量操作
- 新增：响应式适配细则
  - ≥1200px：双栏布局（个人信息 + 反馈表单 / 历史列表）
  - 768px~1199px：双栏布局（缩小间距）
  - <768px：单栏布局，表单控件宽度 100%，历史列表条目简化显示

### 5. 登录 / 注册页（LoginView.vue, RegisterView.vue）

目标：简洁现代的账号入口页，借鉴主流产品的中间卡片式布局。

- 布局：居中竖直卡片，卡片宽度 360~420px
- 元素：品牌 logo、欢迎语、表单、第三方登录（可选）、底部小链接（忘记密码 / 去注册）
- 验证与反馈：表单验证 inline 显示，错误用红色文本并在表单下方聚焦
- 新增：微交互规范
  - 表单提交：按钮 loading 动画 + 表单字段禁用，成功后卡片向上平移并淡出，显示成功页面
  - 输入验证：错误提示从下往上滑入，颜色 --danger，时长 0.2s
  - 第三方登录：hover 时图标放大 1.1 倍，背景色轻微变深，时长 0.2s
- 新增：状态视觉解决方案
  - 加载状态：卡片中央显示加载动画（品牌色旋转圆环）
  - 错误状态：表单顶部显示错误横幅，支持关闭，颜色 --danger
  - 空状态（个人中心）：显示默认头像 +“完善个人信息” 引导，按钮突出显示

## 组件规范（复用与设计细节）

- CardContainer：统一卡片样式（padding、radius、shadow）
- Icon buttons：统一图标尺寸 18~20px，圆形点击区域 40px
- 图片占位：统一占位图样式（light-gray 背景 + 图标）
- 新增：状态组件规范
  - 加载组件：支持三种尺寸（小 / 中 / 大），动画为品牌色旋转圆环，帧率 60fps
  - 空状态组件：统一图标 + 文案 + 引导按钮布局，支持自定义内容
  - 错误状态组件：统一错误图标 + 文案 + 刷新按钮布局，支持重试回调

## 色彩与图片规范

- 封面图片建议：JPEG/WEBP，长边最小 800px，可裁剪为方形用于展示
- 使用渐变做局部点缀（匹配 badge / 主按钮 hover）
- 配色建议：品牌主色 + 1 个亮色作为强调色 + 中性灰系列
- 新增：暗色模式适配规则
  - 图片：暗色模式下降低亮度 20%，保持对比度 ≥4.5:1
  - 图标：支持双色 SVG，自动切换亮色 / 暗色模式
  - 渐变：暗色模式下加深饱和度，保持视觉层次

## 动效与可访问性（新增详细规范）

### 动效规范

- 动效预算：尽量使用 transform/opacity，避免布局抖动
- 过渡时长：基础动效 0.2~0.3s，复杂动效 0.3~0.5s
- 时间函数：
  - 线性：用于进度类动效（进度条、歌词滚动）
  - 缓入缓出（ease-in-out）：用于交互类动效（弹窗、按钮状态）
  - 缓出（ease-out）：用于展示类动效（卡片 hover、图标放大）
- 性能优化：
  - 避免同时触发多个动效，优先级：交互反馈 > 展示效果
  - 移动端动效简化，减少透明度过渡和复杂计算

### 可访问性规范

- contrast ≥ 4.5:1（正文）；按钮、控件有 :focus 可见样式

- 所有交互元素可通过键盘访问（tab）

- 对图片提供 alt 文本（封面的 alt = "{title} - {artist}"）

- 新增：键盘导航逻辑

  - Tab 顺序：页面从上到下，从左到右（导航栏 → 内容区 → 操作按钮 → 页脚）
  - 操作映射：
    - Enter/Space：触发按钮点击、表单提交、卡片选择
    - ArrowLeft/ArrowRight：控制播放器进度、音量调节
    - ArrowUp/ArrowDown：切换歌曲、滚动歌词、列表导航
    - Esc：关闭弹窗、取消当前操作

- 新增：ARIA 标签使用规范

  - 播放器控件：添加 aria-label（如 aria-label="播放"、aria-label="调节音量"）
  - 表单元素：添加 aria-required、aria-invalid 标识
  - 动态内容：添加 aria-live="polite" 确保屏幕阅读器捕捉更新

- 新增：语义化 HTML 结构示例

  html

  

  预览

  

  

  

  

  ```html
  <!-- 音乐卡片语义化结构 -->
  <article role="group" aria-label="歌曲：森林雨声与钢琴 - 自然白噪音工作室">
    <figure class="music-cover" aria-hidden="true">
      <img src="cover.jpg" alt="森林雨声与钢琴 - 自然白噪音工作室">
      <button aria-label="播放歌曲" class="play-button"></button>
    </figure>
    <div class="music-info">
      <h3 role="heading" aria-level="3">{{ title }}</h3>
      <p role="description">{{ artist }}</p>
      <span aria-label="匹配度 98%">{{ match_rate }}% 匹配</span>
    </div>
  </article>
  ```

  

- 新增：字体缩放布局适配方案

  - 使用相对单位（rem/em）而非固定像素
  - 容器宽度使用 max-width + 百分比，避免内容溢出
  - 间距使用 spacing 变量，随字体缩放比例自适应
  - 媒体查询补充：当字体缩放至 4-5 级时，调整卡片网格列数和内边距

## 交互流程（示例）

### 播放流程

点击播放 -> 若播放器未打开则在底部打开并开始预加载（show skeleton） -> 播放 -> 控件置为暂停 -> 播放结束自动下一首

- 新增：流程动效补充
  - 预加载阶段：封面骨架屏 + 频谱加载动画
  - 播放触发：播放按钮缩放动画 + 封面淡入
  - 切换下一首：当前歌曲淡出 + 下一首淡入，进度条重置动画

### 添加音乐流程

用户点击添加 -> 弹窗选择音频并上传 -> 后端返回 src 与元信息 -> 前端预览并允许编辑 -> 点击确认保存 -> 刷新列表并高亮新条目

- 新增：流程动效补充
  - 上传阶段：进度条动画（品牌色渐变填充）
  - 保存成功：新条目从底部滑入并高亮，时长 0.3s
  - 预览阶段：音频波形实时生成动画

## 界面资源与图标

- 图标库：Element Plus Icons，自定义 SVG（品牌 logo、播放动画）
- 字体图像资源应放在 static/ 或 CDN，封面应存放 static/music 或对象存储
- 新增：图标规范
  - 线性图标：线条粗细 2px，圆角 2px，确保一致性
  - 填充图标：内边距统一 4px，避免视觉失衡
  - 动画图标：时长 0.3s，使用 ease-in-out 时间函数

## 生产化建议

- 图片 CDN：为提高加载速度，生产环境建议把音乐封面与音频文件上云并通过 CDN 加速
- 预加载 / 懒加载：卡片列表使用懒加载图片策略（IntersectionObserver）
- 性能：避免大量同时渲染大图，使用合适的缩略图尺寸
- 新增：性能优化补充
  - 动效节流：高频触发的动效（如滚动联动）使用节流（throttle 100ms）
  - 资源预加载：当前播放歌曲的下一首音频预加载，提升切换流畅度
  - 缓存策略：封面图使用 CDN 缓存 + 本地存储缓存，减少重复请求

## 页面清单（按项目现有视图）

- HomeView.vue（如有）
- MusicRecommendationView.vue（已改造）
- MusicPlayer.vue
- LoginView.vue / RegisterView.vue
- UserFeedbackView.vue
- UserCenterView.vue
- SignalMonitorView.vue
- MusicRecommendation 子组件（Card, Grid）

## 附录：示例样式片段（SCSS 变量）

scss











```scss
:root {
  --brand-primary: #1db954;
  --brand-accent: linear-gradient(90deg, #1db954 0%, #4ae3a4 100%);
  --bg-page: #f6f7fb;
  --bg-card: #ffffff;
  --text-primary: #111827;
  --text-secondary: #6b7280;
  --radius-md: 12px;
  
  /* 新增暗色模式变量 */
  --brand-primary-dark: #22c55e;
  --brand-accent-dark: linear-gradient(90deg,#22c55e 0%, #67eead 100%);
  --bg-page-dark: #0f172a;
  --bg-card-dark: #1e293b;
  --text-primary-dark: #f8fafc;
  --text-secondary-dark: #94a3b8;
  
  /* 新增z-index层级 */
  --z-index-1: 10;
  --z-index-2: 50;
  --z-index-3: 100;
  --z-index-4: 500;
  --z-index-5: 1000;
  
  /* 新增字体缩放 */
  --font-scale-1: 0.875rem;
  --font-scale-2: 1rem;
  --font-scale-3: 1.125rem;
  --font-scale-4: 1.25rem;
  --font-scale-5: 1.5rem;
}

/* 新增暗色模式切换 */
@media (prefers-color-scheme: dark) {
  :root {
    --brand-primary: var(--brand-primary-dark);
    --brand-accent: var(--brand-accent-dark);
    --bg-page: var(--bg-page-dark);
    --bg-card: var(--bg-card-dark);
    --text-primary: var(--text-primary-dark);
    --text-secondary: var(--text-secondary-dark);
  }
}

/* 新增卡片动效 */
.music-card {
  background: var(--bg-card);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-1);
  transition: all 0.25s ease-in-out;
  
  &:hover {
    transform: scale(1.03);
    box-shadow: var(--shadow-2);
  }
  
  .play-button {
    transition: all 0.2s ease-in-out;
  }
  
  &:hover .play-button {
    transform: scale(1.1);
    background-color: var(--brand-primary);
  }
}

/* 新增音频可视化容器 */
.audio-visualizer {
  width: 100%;
  height: 80px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
}
```
